<div class="container" ng-controller="HomeCtrl">


<div class="col-md-10 col-md-offset-1 col-xs-12">
  

  <h3>List of Topics </h3>

  <div class="row pull-right">
		<input class="topic_search" type="text" ng-model="filter_name" placeholder="search...">
		
	</div>

	<div class="row">

			<table class="table table-striped table-bordered">
				<tr>
					<th>Category</th>
					<th>Topic</th>
					<th>Author</th>
          <th>No. of Posts</th>
          <th>Created at</th>
					
				</tr>
				<tr ng-repeat="topic in topics | filter: filter_name | orderBy: 'created_at':true" >
					<td ng-bind="topic.category"></td>
					<td><a href="#/topics/{{topic._id}}" ng-bind="topic.topic"></a></td>
					<td><a href="#/users/{{topic.user_id}}" ng-bind="topic.user_name"></a></td>
          <td class="text-center" ng-bind="topic.post.length"></td>
          <td ng-bind="topic.created_at |   date:'medium'"></td>
          
					

				</tr>
			</table>
		</div>




</div>

<div class="col-md-6 col-md-offset-1 col-xs-12">
<h4>Add a new Topic</h4>
	
	<form class="form-horizontal well">
  <div class="form-group">
    <label class="col-sm-2 control-label">Topic:</label>
    <div class="col-sm-10">
      <input class="form-control" ng-model="newTopic.topic">
      <input type="hidden"  ng-model="newTopic.user_id" value="{{user.user_id}}" ng-init="newTopic.user_id = user.user_id">
       <input type="hidden" ng-model="newTopic.username" value="{{user.first_name}}" ng-init="newTopic.username = user.first_name">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">Description:</label>
    <div class="col-sm-10">
      <textarea class="form-control" ng-model="newTopic.description"> </textarea>
    </div>
  </div>
  <div class="form-group">
   	<label class="col-sm-2 control-label">Category:</label>
   	<div class="col-sm-5">
   		<!-- <select class="form-control" name="category" ng-model="newTopic.category">
   			<option value="HTML">HTML</option>
   			<option value="Ruby on Rails">Ruby on Rails</option>
   			<option value="Javascript">Javascript</option>
          <option value="Python">Python</option>
            <option value="jQuery">jQuery</option>
   		</select> -->

      <select class="form-control" name="category" ng-model="newTopic.category" ng-options="category.catname for category in categories">
      </select>


   	</div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" ng-click="addTopic()">Submit</button>
    </div>
  </div>
</form>	
	



</div>

</div>

